<!--=========================================================================--> <!-- Copyright (c) 2024 Federico Busetti                                     --> <!-- <729029+febus982@users.noreply.github.com>                              --> <!--                                                                         --> <!-- Permission is hereby granted, free of charge, to any person obtaining a --> <!-- copy of this software and associated documentation files (the "Software"), --> <!-- to deal in the Software without restriction, including without limitation --> <!-- the rights to use, copy, modify, merge, publish, distribute, sublicense, --> <!-- and/or sell copies of the Software, and to permit persons to whom the   --> <!-- Software is furnished to do so, subject to the following conditions:    --> <!--                                                                         --> <!-- The above copyright notice and this permission notice shall be included in --> <!-- all copies or substantial portions of the Software.                     --> <!--                                                                         --> <!-- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR --> <!-- IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, --> <!-- FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL --> <!-- THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER --> <!-- LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING --> <!-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER     --> <!-- DEALINGS IN THE SOFTWARE.                                               --> <!--=========================================================================--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="SnapEnv core package."><meta name=author content="Abner G Jacobsen"><link rel=prev href=../..><link href=../../API-Reference/snap_package_template/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.31"><title>Settings Module - SnapEnv Core Package</title><link rel=stylesheet href=../../assets/stylesheets/main.3cba04c6.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#settings-module class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="SnapEnv Core Package" class="md-header__button md-logo" aria-label="SnapEnv Core Package" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SnapEnv Core Package </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Settings Module </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to auto mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to auto mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/snapenv/snapenv-core title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> snapenv/snapenv-core </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Usage </a> </li> <li class=md-tabs__item> <a href=../../API-Reference/snap_package_template/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../adr/summary/ class=md-tabs__link> ADR </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="SnapEnv Core Package" class="md-nav__button md-logo" aria-label="SnapEnv Core Package" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> SnapEnv Core Package </label> <div class=md-nav__source> <a href=https://github.com/snapenv/snapenv-core title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> snapenv/snapenv-core </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Settings Module </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Settings Module </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example-application-settings-with-caching class=md-nav__link> <span class=md-ellipsis> Example: Application Settings with Caching </span> </a> <nav class=md-nav aria-label="Example: Application Settings with Caching"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-import-necessary-modules class=md-nav__link> <span class=md-ellipsis> Step 1: Import Necessary Modules </span> </a> <nav class=md-nav aria-label="Step 1: Import Necessary Modules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-2-define-application-settings-class class=md-nav__link> <span class=md-ellipsis> Step 2: Define Application Settings Class </span> </a> <nav class=md-nav aria-label="Step 2: Define Application Settings Class"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_1 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-3-create-a-cached-settings-retrieval-function class=md-nav__link> <span class=md-ellipsis> Step 3: Create a Cached Settings Retrieval Function </span> </a> <nav class=md-nav aria-label="Step 3: Create a Cached Settings Retrieval Function"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_2 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-4-initialize-and-use-the-settings class=md-nav__link> <span class=md-ellipsis> Step 4: Initialize and Use the Settings </span> </a> <nav class=md-nav aria-label="Step 4: Initialize and Use the Settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_3 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#customization-guide class=md-nav__link> <span class=md-ellipsis> Customization Guide </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-using-env-files class=md-nav__link> <span class=md-ellipsis> Example: Using .env Files </span> </a> <nav class=md-nav aria-label="Example: Using .env Files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-env-file class=md-nav__link> <span class=md-ellipsis> Example .env File </span> </a> </li> <li class=md-nav__item> <a href=#how-to-use-the-env-file class=md-nav__link> <span class=md-ellipsis> How to Use the .env File </span> </a> </li> <li class=md-nav__item> <a href=#customization-example-in-python class=md-nav__link> <span class=md-ellipsis> Customization Example in Python </span> </a> </li> <li class=md-nav__item> <a href=#using-the-default-env-file class=md-nav__link> <span class=md-ellipsis> Using the Default .env File </span> </a> </li> <li class=md-nav__item> <a href=#using-a-specific-environment-file-eg-devenv class=md-nav__link> <span class=md-ellipsis> Using a Specific Environment File (e.g., dev.env) </span> </a> <nav class=md-nav aria-label="Using a Specific Environment File (e.g., dev.env)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#unixlinuxmacos class=md-nav__link> <span class=md-ellipsis> Unix/Linux/MacOS </span> </a> </li> <li class=md-nav__item> <a href=#windows-command-prompt class=md-nav__link> <span class=md-ellipsis> Windows (Command Prompt) </span> </a> </li> <li class=md-nav__item> <a href=#windows-powershell class=md-nav__link> <span class=md-ellipsis> Windows (PowerShell) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#explanation_4 class=md-nav__link> <span class=md-ellipsis> Explanation </span> </a> </li> <li class=md-nav__item> <a href=#example-env-files class=md-nav__link> <span class=md-ellipsis> Example .env Files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <div class="md-nav__link md-nav__container"> <a href=../../API-Reference/snap_package_template/ class="md-nav__link "> <span class=md-ellipsis> Snap package template </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Snap package template </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__container"> <a href=../../API-Reference/snapenv_core/ class="md-nav__link "> <span class=md-ellipsis> Snapenv core </span> </a> <label class="md-nav__link " for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Snapenv core </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__container"> <a href=../../API-Reference/snapenv_core/settings/ class="md-nav__link "> <span class=md-ellipsis> Settings </span> </a> <label class="md-nav__link " for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Settings </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../API-Reference/snapenv_core/settings/manager/ class=md-nav__link> <span class=md-ellipsis> Manager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> ADR </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> ADR </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../adr/summary/ class=md-nav__link> <span class=md-ellipsis> Summary </span> </a> </li> <li class=md-nav__item> <a href=../../adr/0001-record-architecture-decisions/ class=md-nav__link> <span class=md-ellipsis> Use Markdown Any Decision Records V3 </span> <span class="md-status md-status--accepted"></span> </a> </li> <li class=md-nav__item> <a href=../../adr/0002-use-pydantic-settings/ class=md-nav__link> <span class=md-ellipsis> Use Pydantic Settings for Configuration Management </span> <span class="md-status md-status--accepted"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example-application-settings-with-caching class=md-nav__link> <span class=md-ellipsis> Example: Application Settings with Caching </span> </a> <nav class=md-nav aria-label="Example: Application Settings with Caching"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-import-necessary-modules class=md-nav__link> <span class=md-ellipsis> Step 1: Import Necessary Modules </span> </a> <nav class=md-nav aria-label="Step 1: Import Necessary Modules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-2-define-application-settings-class class=md-nav__link> <span class=md-ellipsis> Step 2: Define Application Settings Class </span> </a> <nav class=md-nav aria-label="Step 2: Define Application Settings Class"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_1 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-3-create-a-cached-settings-retrieval-function class=md-nav__link> <span class=md-ellipsis> Step 3: Create a Cached Settings Retrieval Function </span> </a> <nav class=md-nav aria-label="Step 3: Create a Cached Settings Retrieval Function"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_2 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-4-initialize-and-use-the-settings class=md-nav__link> <span class=md-ellipsis> Step 4: Initialize and Use the Settings </span> </a> <nav class=md-nav aria-label="Step 4: Initialize and Use the Settings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#explanation_3 class=md-nav__link> <span class=md-ellipsis> Explanation: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#customization-guide class=md-nav__link> <span class=md-ellipsis> Customization Guide </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-using-env-files class=md-nav__link> <span class=md-ellipsis> Example: Using .env Files </span> </a> <nav class=md-nav aria-label="Example: Using .env Files"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-env-file class=md-nav__link> <span class=md-ellipsis> Example .env File </span> </a> </li> <li class=md-nav__item> <a href=#how-to-use-the-env-file class=md-nav__link> <span class=md-ellipsis> How to Use the .env File </span> </a> </li> <li class=md-nav__item> <a href=#customization-example-in-python class=md-nav__link> <span class=md-ellipsis> Customization Example in Python </span> </a> </li> <li class=md-nav__item> <a href=#using-the-default-env-file class=md-nav__link> <span class=md-ellipsis> Using the Default .env File </span> </a> </li> <li class=md-nav__item> <a href=#using-a-specific-environment-file-eg-devenv class=md-nav__link> <span class=md-ellipsis> Using a Specific Environment File (e.g., dev.env) </span> </a> <nav class=md-nav aria-label="Using a Specific Environment File (e.g., dev.env)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#unixlinuxmacos class=md-nav__link> <span class=md-ellipsis> Unix/Linux/MacOS </span> </a> </li> <li class=md-nav__item> <a href=#windows-command-prompt class=md-nav__link> <span class=md-ellipsis> Windows (Command Prompt) </span> </a> </li> <li class=md-nav__item> <a href=#windows-powershell class=md-nav__link> <span class=md-ellipsis> Windows (PowerShell) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#explanation_4 class=md-nav__link> <span class=md-ellipsis> Explanation </span> </a> </li> <li class=md-nav__item> <a href=#example-env-files class=md-nav__link> <span class=md-ellipsis> Example .env Files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/snapenv/snapenv-core/edit/master/docs/usage/settings.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/snapenv/snapenv-core/raw/master/docs/usage/settings.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=settings-module>Settings Module<a class=headerlink href=#settings-module title="Permanent link">&para;</a></h1> <p>This page demonstrates how to construct and customize application settings using the <code>SnapEnv Core</code> package. The example provided illustrates how to define application-specific settings, utilize caching for efficient access, and integrate these settings into your application.</p> <h2 id=example-application-settings-with-caching>Example: Application Settings with Caching<a class=headerlink href=#example-application-settings-with-caching title="Permanent link">&para;</a></h2> <h3 id=step-1-import-necessary-modules>Step 1: Import Necessary Modules<a class=headerlink href=#step-1-import-necessary-modules title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>lru_cache</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span> <span class=nn>snapenv_core.settings.manager</span> <span class=kn>import</span> <span class=n>SnapEnvCommonSettings</span>
</span></code></pre></div> <h4 id=explanation>Explanation:<a class=headerlink href=#explanation title="Permanent link">&para;</a></h4> <ul> <li><code>functools.lru_cache</code>: This decorator is used to cache the result of the function it decorates, improving performance by storing the result of expensive function calls and reusing them when the same inputs occur.</li> <li><code>SnapEnvCommonSettings</code>: This is a base class provided by the SnapEnv Core package. It serves as the foundation for defining environment-based settings in your application.</li> </ul> <h3 id=step-2-define-application-settings-class>Step 2: Define Application Settings Class<a class=headerlink href=#step-2-define-application-settings-class title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>class</span> <span class=nc>AppSettings</span><span class=p>(</span><span class=n>SnapEnvCommonSettings</span><span class=p>):</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=sd>    Application settings configuration.</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=sd>    Attributes</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=sd>    ----------</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=sd>    APP_TITLE : str</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=sd>        The title of the application.</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=sd>    LOG_LEVEL : str</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=sd>        The log level for the application.</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>    <span class=n>APP_TITLE</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=n>LOG_LEVEL</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <h4 id=explanation_1>Explanation:<a class=headerlink href=#explanation_1 title="Permanent link">&para;</a></h4> <ul> <li><code>AppSettings</code>: This class inherits from <code>SnapEnvCommonSettings</code> and defines the specific settings for your application.</li> <li><code>APP_TITLE</code>: A string attribute representing the title of your application.</li> <li><code>LOG_LEVEL</code>: A string attribute that determines the logging level (e.g., <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, etc.).</li> </ul> <h3 id=step-3-create-a-cached-settings-retrieval-function>Step 3: Create a Cached Settings Retrieval Function<a class=headerlink href=#step-3-create-a-cached-settings-retrieval-function title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nd>@lru_cache</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>def</span> <span class=nf>get_settings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>AppSettings</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=sd>    Retrieve the application settings with caching.</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=sd>    This function uses an LRU cache to store the settings so that</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=sd>    subsequent calls are fast and do not re-initialize the settings.</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=sd>    Returns</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=sd>    -------</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=sd>    AppSettings</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=sd>        The application settings instance.</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=k>return</span> <span class=n>AppSettings</span><span class=p>()</span>
</span></code></pre></div> <h4 id=explanation_2>Explanation:<a class=headerlink href=#explanation_2 title="Permanent link">&para;</a></h4> <ul> <li><code>@lru_cache</code>: This decorator caches the result of the <code>get_settings</code> function, ensuring that the settings are only initialized once and subsequent calls are faster.</li> <li><code>get_settings</code>: This function returns an instance of <code>AppSettings</code>, which contains the application settings.</li> </ul> <h3 id=step-4-initialize-and-use-the-settings>Step 4: Initialize and Use the Settings<a class=headerlink href=#step-4-initialize-and-use-the-settings title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>settings</span><span class=p>:</span> <span class=n>AppSettings</span> <span class=o>=</span> <span class=n>get_settings</span><span class=p>()</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=p>)</span>
</span></code></pre></div> <h4 id=explanation_3>Explanation:<a class=headerlink href=#explanation_3 title="Permanent link">&para;</a></h4> <ul> <li><code>settings</code>: This variable holds the cached instance of <code>AppSettings</code>.</li> <li><code>print(settings)</code>: This prints the current settings to the console, which is useful for debugging or verifying the configuration.</li> </ul> <h3 id=customization-guide>Customization Guide<a class=headerlink href=#customization-guide title="Permanent link">&para;</a></h3> <p>You can customize the <code>AppSettings</code> class to include additional settings specific to your application. Here’s how you can do it:</p> <ol> <li> <p><strong>Add New Attributes</strong>:</p> <ul> <li>Simply add new attributes to the <code>AppSettings</code> class to define additional configuration options.</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>class</span> <span class=nc>AppSettings</span><span class=p>(</span><span class=n>SnapEnvCommonSettings</span><span class=p>):</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>APP_TITLE</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>LOG_LEVEL</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>DATABASE_URL</span><span class=p>:</span> <span class=nb>str</span>  <span class=c1># New attribute for database connection string</span>
</span></code></pre></div> </li> <li> <p><strong>Override Default Values</strong>:</p> <ul> <li>You can override default values by setting them directly in the class.</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>class</span> <span class=nc>AppSettings</span><span class=p>(</span><span class=n>SnapEnvCommonSettings</span><span class=p>):</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=n>APP_TITLE</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;My Application&quot;</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=n>LOG_LEVEL</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;DEBUG&quot;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>DATABASE_URL</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;sqlite:///mydatabase.db&quot;</span>
</span></code></pre></div> </li> <li> <p><strong>Use Environment Variables</strong>:</p> <ul> <li>The <code>SnapEnvCommonSettings</code> class is designed to load values from environment variables. Ensure your environment variables are correctly set to allow dynamic configuration.</li> </ul> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nb>export</span><span class=w> </span><span class=nv>APP_TITLE</span><span class=o>=</span><span class=s2>&quot;My Application&quot;</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=nb>export</span><span class=w> </span><span class=nv>LOG_LEVEL</span><span class=o>=</span><span class=s2>&quot;DEBUG&quot;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=nb>export</span><span class=w> </span><span class=nv>DATABASE_URL</span><span class=o>=</span><span class=s2>&quot;sqlite:///mydatabase.db&quot;</span>
</span></code></pre></div> </li> </ol> <h2 id=example-using-env-files>Example: Using .env Files<a class=headerlink href=#example-using-env-files title="Permanent link">&para;</a></h2> <p>The <code>SnapEnvCommonSettings</code> class manages environment-specific configurations, allowing settings to be loaded from an <code>.env</code> file. The class uses Pydantic's <code>BaseSettings</code> to define environment-dependent parameters, and the <code>.env</code> file is determined by the value of the <code>ENVIRONMENT</code> environment variable.</p> <h3 id=example-env-file>Example <code>.env</code> File<a class=headerlink href=#example-env-file title="Permanent link">&para;</a></h3> <p>To avoid setting environment variables manually using the <code>export</code> command, you can define them in an <code>.env</code> file, which will be automatically loaded by the <code>SnapEnvCommonSettings</code> class.</p> <p>Here's an example of how to create and customize an <code>.env</code> file for the <code>AppSettings</code> class:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># .env file</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=c1># The title of the application</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=nv>APP_TITLE</span><span class=o>=</span><span class=s2>&quot;My Custom Application&quot;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=c1># The log level for the application</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=nv>LOG_LEVEL</span><span class=o>=</span><span class=s2>&quot;DEBUG&quot;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=c1># Add any other custom settings here</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=nv>DATABASE_URL</span><span class=o>=</span><span class=s2>&quot;sqlite:///mydatabase.db&quot;</span>
</span></code></pre></div> <h3 id=how-to-use-the-env-file>How to Use the <code>.env</code> File<a class=headerlink href=#how-to-use-the-env-file title="Permanent link">&para;</a></h3> <ol> <li> <p><strong>Create the <code>.env</code> File</strong>: In the root directory of your project, create a file named <code>.env</code> or <code>&lt;ENVIRONMENT&gt;.env</code> (e.g., <code>production.env</code>).</p> </li> <li> <p><strong>Define Your Settings</strong>: Add your settings as key-value pairs in the <code>.env</code> file as shown above.</p> </li> <li> <p><strong>Load Settings Automatically</strong>: When you create an instance of <code>AppSettings</code>, the settings will be automatically loaded from the <code>.env</code> file.</p> </li> </ol> <h3 id=customization-example-in-python>Customization Example in Python<a class=headerlink href=#customization-example-in-python title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>lru_cache</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=kn>from</span> <span class=nn>snapenv_core.settings.manager</span> <span class=kn>import</span> <span class=n>SnapEnvCommonSettings</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=k>class</span> <span class=nc>AppSettings</span><span class=p>(</span><span class=n>SnapEnvCommonSettings</span><span class=p>):</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=sd>    Application settings configuration.</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>    <span class=n>APP_TITLE</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>    <span class=n>LOG_LEVEL</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>    <span class=n>DATABASE_URL</span><span class=p>:</span> <span class=nb>str</span>  <span class=c1># New attribute for database connection string</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=nd>@lru_cache</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=k>def</span> <span class=nf>get_settings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>AppSettings</span><span class=p>:</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=sd>    Retrieve the application settings with caching.</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>    <span class=k>return</span> <span class=n>AppSettings</span><span class=p>()</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=n>settings</span><span class=p>:</span> <span class=n>AppSettings</span> <span class=o>=</span> <span class=n>get_settings</span><span class=p>()</span>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=o>.</span><span class=n>APP_TITLE</span><span class=p>)</span>  <span class=c1># Output: My Custom Application</span>
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a><span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=o>.</span><span class=n>LOG_LEVEL</span><span class=p>)</span>   <span class=c1># Output: DEBUG</span>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a><span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=o>.</span><span class=n>DATABASE_URL</span><span class=p>)</span>  <span class=c1># Output: sqlite:///mydatabase.db</span>
</span></code></pre></div> <p>In this example, the settings are automatically populated from the <code>.env</code> file, making it easy to manage configurations across different environments without needing to set environment variables manually.</p> <p>To run the example with different environment files, you can set the <code>ENVIRONMENT</code> environment variable before executing the script. This allows you to specify which <code>.env</code> file the <code>SnapEnvCommonSettings</code> class should load.</p> <h3 id=using-the-default-env-file>Using the Default <code>.env</code> File<a class=headerlink href=#using-the-default-env-file title="Permanent link">&para;</a></h3> <p>By default, if you don't set the <code>ENVIRONMENT</code> variable, the <code>SnapEnvCommonSettings</code> class will look for a file named <code>.env</code> in the root directory of your project.</p> <p>To run the example using the default <code>.env</code> file, simply execute the script without setting any environment variables:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>python<span class=w> </span>examples/settings_basic.py
</span></code></pre></div> <h3 id=using-a-specific-environment-file-eg-devenv>Using a Specific Environment File (e.g., <code>dev.env</code>)<a class=headerlink href=#using-a-specific-environment-file-eg-devenv title="Permanent link">&para;</a></h3> <p>If you want to use a specific environment file like <code>dev.env</code>, you need to set the <code>ENVIRONMENT</code> variable to <code>dev</code> before running the script. This tells the <code>SnapEnvCommonSettings</code> class to load the settings from <code>dev.env</code>.</p> <p>Here's how you can do it:</p> <h4 id=unixlinuxmacos>Unix/Linux/MacOS<a class=headerlink href=#unixlinuxmacos title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nv>ENVIRONMENT</span><span class=o>=</span>dev<span class=w> </span>python<span class=w> </span>examples/settings_basic.py
</span></code></pre></div> <h4 id=windows-command-prompt>Windows (Command Prompt)<a class=headerlink href=#windows-command-prompt title="Permanent link">&para;</a></h4> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>set ENVIRONMENT=dev &amp;&amp; python examples/settings_basic.py
</span></code></pre></div> <h4 id=windows-powershell>Windows (PowerShell)<a class=headerlink href=#windows-powershell title="Permanent link">&para;</a></h4> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=nv>$env:ENVIRONMENT</span><span class=p>=</span><span class=s2>&quot;dev&quot;</span><span class=p>;</span> <span class=n>python</span> <span class=n>examples</span><span class=p>/</span><span class=n>settings_basic</span><span class=p>.</span><span class=n>py</span>
</span></code></pre></div> <h3 id=explanation_4>Explanation<a class=headerlink href=#explanation_4 title="Permanent link">&para;</a></h3> <ul> <li><strong>ENVIRONMENT Variable</strong>: This variable controls which <code>.env</code> file is used. If <code>ENVIRONMENT=dev</code>, the script will look for a <code>dev.env</code> file in the root directory.</li> <li><strong>Script Execution</strong>: By setting the <code>ENVIRONMENT</code> variable before running the script, the settings are loaded from the specified <code>.env</code> file, allowing you to easily switch between different environment configurations.</li> </ul> <h3 id=example-env-files>Example <code>.env</code> Files<a class=headerlink href=#example-env-files title="Permanent link">&para;</a></h3> <p><strong>Default <code>.env</code> file</strong>:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># .env</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=nv>APP_TITLE</span><span class=o>=</span><span class=s2>&quot;My Application&quot;</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=nv>LOG_LEVEL</span><span class=o>=</span><span class=s2>&quot;INFO&quot;</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=nv>DATABASE_URL</span><span class=o>=</span><span class=s2>&quot;sqlite:///default.db&quot;</span>
</span></code></pre></div> <p><strong>Development environment file (<code>dev.env</code>)</strong>:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># dev.env</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=nv>APP_TITLE</span><span class=o>=</span><span class=s2>&quot;My Application (Development)&quot;</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=nv>LOG_LEVEL</span><span class=o>=</span><span class=s2>&quot;DEBUG&quot;</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=nv>DATABASE_URL</span><span class=o>=</span><span class=s2>&quot;sqlite:///development.db&quot;</span>
</span></code></pre></div> <p>When running with <code>ENVIRONMENT=dev</code>, the settings in <code>dev.env</code> will be applied, allowing you to customize your application's behavior based on the environment.</p> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>This example illustrates the core concepts of defining and managing application settings using the SnapEnv Core package. By leveraging inheritance, caching, and environment variables, you can create flexible and efficient configuration management for your applications. Customize the <code>AppSettings</code> class to match your specific needs, and ensure your environment is configured correctly to take full advantage of the SnapEnv Core features.fic settings, utilize caching for efficient access, and integrate these settings into your application.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../.. class="md-footer__link md-footer__link--prev" aria-label="Previous: Home"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Home </div> </div> </a> <a href=../../API-Reference/snap_package_template/ class="md-footer__link md-footer__link--next" aria-label="Next: Index"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Index </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 Abner G Jacobsen </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/abnerjacobsen/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/abnerjacobsen target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand", "navigation.top", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": ["latest", "dev"], "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>